<svg xmlns="http://www.w3.org/2000/svg" width="1100" height="1372" viewBox="0 0 1100 1372"><style>
    text{font-family:Inter,Arial,Helvetica,sans-serif;font-size:16px;dominant-baseline:middle}
    .box{fill:#f9fafb;stroke:#334155;stroke-width:1.2;rx:10;ry:10}
    .label{fill:#0f172a}
    .arrow{stroke:#334155;stroke-width:1.2;marker-end:url(#arr)}
    </style><defs>
      <marker id="arr" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto">
        <path d="M 0 0 L 10 5 L 0 10 z" fill="#334155"/>
      </marker>
    </defs><rect class="box" x="90" y="20" width="920" height="50"/>
<text class="label" x="550" y="45.0" text-anchor="middle">CPU → kernel_main</text>
<line class="arrow" x1="550" y1="70" x2="550" y2="88"/>
<rect class="box" x="90" y="94" width="920" height="50"/>
<text class="label" x="550" y="119.0" text-anchor="middle">terminal_initialize (clear VGA @ 0xB8000)</text>
<line class="arrow" x1="550" y1="144" x2="550" y2="162"/>
<rect class="box" x="90" y="168" width="920" height="50"/>
<text class="label" x="550" y="193.0" text-anchor="middle">Build structured GDT → gdt_structured_to_gdt → gdt_load</text>
<line class="arrow" x1="550" y1="218" x2="550" y2="236"/>
<rect class="box" x="90" y="242" width="920" height="50"/>
<text class="label" x="550" y="267.0" text-anchor="middle">kheap_init</text>
<line class="arrow" x1="550" y1="292" x2="550" y2="310"/>
<rect class="box" x="90" y="316" width="920" height="50"/>
<text class="label" x="550" y="341.0" text-anchor="middle">fs_init</text>
<line class="arrow" x1="550" y1="366" x2="550" y2="384"/>
<rect class="box" x="90" y="390" width="920" height="50"/>
<text class="label" x="550" y="415.0" text-anchor="middle">disk_search_and_init</text>
<line class="arrow" x1="550" y1="440" x2="550" y2="458"/>
<rect class="box" x="90" y="464" width="920" height="50"/>
<text class="label" x="550" y="489.0" text-anchor="middle">idt_init</text>
<line class="arrow" x1="550" y1="514" x2="550" y2="532"/>
<rect class="box" x="90" y="538" width="920" height="50"/>
<text class="label" x="550" y="563.0" text-anchor="middle">Init TSS (esp0=0x600000, ss0=KERNEL_DATA_SELECTOR) → tss_load(0x28)</text>
<line class="arrow" x1="550" y1="588" x2="550" y2="606"/>
<rect class="box" x="90" y="612" width="920" height="50"/>
<text class="label" x="550" y="637.0" text-anchor="middle">paging_new_4gb(PRESENT|WRITEABLE|ACCESS_FROM_ALL)</text>
<line class="arrow" x1="550" y1="662" x2="550" y2="680"/>
<rect class="box" x="90" y="686" width="920" height="50"/>
<text class="label" x="550" y="711.0" text-anchor="middle">paging_switch(kernel_chunk) → enable_paging</text>
<line class="arrow" x1="550" y1="736" x2="550" y2="754"/>
<rect class="box" x="90" y="760" width="920" height="50"/>
<text class="label" x="550" y="785.0" text-anchor="middle">isr80h_register_commands</text>
<line class="arrow" x1="550" y1="810" x2="550" y2="828"/>
<rect class="box" x="90" y="834" width="920" height="50"/>
<text class="label" x="550" y="859.0" text-anchor="middle">keyboard_init</text>
<line class="arrow" x1="550" y1="884" x2="550" y2="902"/>
<rect class="box" x="90" y="908" width="920" height="50"/>
<text class="label" x="550" y="933.0" text-anchor="middle">process_load_switch(&quot;0:/blank.elf&quot;)</text>
<line class="arrow" x1="550" y1="958" x2="550" y2="976"/>
<rect class="box" x="90" y="982" width="920" height="50"/>
<text class="label" x="550" y="1007.0" text-anchor="middle">process_inject_arguments(&quot;Testing!&quot;)</text>
<line class="arrow" x1="550" y1="1032" x2="550" y2="1050"/>
<rect class="box" x="90" y="1056" width="920" height="50"/>
<text class="label" x="550" y="1081.0" text-anchor="middle">process_load_switch(&quot;0:/blank.elf&quot;)</text>
<line class="arrow" x1="550" y1="1106" x2="550" y2="1124"/>
<rect class="box" x="90" y="1130" width="920" height="50"/>
<text class="label" x="550" y="1155.0" text-anchor="middle">process_inject_arguments(&quot;Abc!&quot;)</text>
<line class="arrow" x1="550" y1="1180" x2="550" y2="1198"/>
<rect class="box" x="90" y="1204" width="920" height="50"/>
<text class="label" x="550" y="1229.0" text-anchor="middle">task_run_first_ever_task (scheduler starts)</text>
<line class="arrow" x1="550" y1="1254" x2="550" y2="1272"/>
<rect class="box" x="90" y="1278" width="920" height="50"/>
<text class="label" x="550" y="1303.0" text-anchor="middle">while(1) {} (kernel idle loop)</text>
</svg>